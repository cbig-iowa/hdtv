function [out] = Bspline(x,degree)

boundary = abs(x);

%boundaries
btw01 = boundary < 1;
eqhf = boundary == .5;
eq1hf = boundary == 1.5;
eq2hf = boundary == 2.5;
eq3hf = boundary == 3.5;
eq4hf = boundary == 4.5;
eq5hf = boundary == 5.5;
btw0hf = boundary<.5;
btw12 = (boundary >= 1 & boundary<2);
btw1hf = (boundary >= .5 & boundary<1.5);
btw23 = (boundary >= 2 & boundary<3);
btw2hf = (boundary>=1.5 & boundary<2.5);
btw34 = (boundary >=3 & boundary<4);
btw3hf = (boundary >= 2.5 & boundary<3.5);
btw45 = (boundary >=4 & boundary<5);
btw4hf = (boundary >= 3.5 & boundary<4.5);
btw56 = (boundary >=5 & boundary<6);
btw5hf = (boundary >= 4.5 & boundary<5.5);


x=boundary;

        
    switch degree
        case 0
            out = btw0hf;
            out = out + (.5*eqhf);
        case 1
            out = (1-x).*btw01;
        case 2
            out = (.75 - x.^2).*(btw0hf);
            x = x - 1.5;
            out = out+(((x.^2)*.5).*(btw1hf));
        case 3
            out = (x.^2.*(x-2)*0.5 + 2/3).*btw01;
            x = x-2;
            out =  out + ((x.^3)*(-1/6)).*btw12;
        case 4
            b=x.*x;
            out = (b.*(b*(.25)-(5/8))+(115/192)).*btw0hf;
            out = out+((x .* (x .* (x .* (5.0 / 6.0 - x * (1/6)) - 5.0 / 4.0) + 5.0 / 24.0) + 55.0 / 96.0).*btw1hf);
            x = (x - 2.5).^2;
            out = out+(((x.^2)*(1/24)).*btw2hf);
        case 5
            b = x .* x;
            out = (b .* (b .* (1.0 / 4.0 - x * (1.0 / 12.0)) - 1.0 / 2.0)+ 11.0 / 20.0).*btw01;
            out = out+((x .* (x .* (x .* (x .* (x* (1.0 / 24.0) - 3.0 / 8.0) + 5.0 / 4.0) - 7.0 / 4.0) + 5.0 / 8.0) + 17.0 / 40.0).*btw12);
            b = 3-x;
            x = b .* b;
            out = out+((b.*x.*x*(1/120)).*btw23);
        case 6
            a = x.*x;
            out = (a .* (a .* (7.0 / 48.0 - a...
            * (1.0 / 36.0)) - 77.0 / 192.0) + 5887.0 / 11520.0).*btw0hf;
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (1.0 / 48.0) - 7.0 / 48.0) + 21.0 / 64.0) - 35.0 / 288.0) - 91.0 / 256.0)...
			- 7.0 / 768.0) + 7861.0 / 15360.0).*btw1hf);
            out = out+((x .* (x .* (x .* (x .* (x...
			.* (7.0 / 60.0 - x .* (1.0 / 120.0)) - 21.0 / 32.0) + 133.0 / 72.0)...
			- 329.0 / 128.0) + 1267.0 / 960.0) + 1379.0 / 7680.0).*btw2hf);
            b = (x.*btw3hf) - 3.5;
            c = b .* b .* b;
            out = out+((c.*c.*(1/720)).*btw3hf);
        case 7
            a = x .* x;
            out = (a .* (a .* (a .* (x .* (1.0 / 144.0) - 1.0 / 36.0) + 1.0 / 9.0)...
			- 1.0 / 3.0) + 151.0 / 315.0).*btw01;
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (1.0 / 20.0 - x .* (1.0 / 240.0)) - 7.0 / 30.0) + 1.0 / 2.0)...
			- 7.0 / 18.0) - 1.0 / 10.0) - 7.0 / 90.0) + 103.0 / 210.0).*btw12);
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (1.0 / 720.0) - 1.0 / 36.0) + 7.0 / 30.0) - 19.0 / 18.0)...
			+ 49.0 / 18.0) - 23.0 / 6.0) + 217.0 / 90.0) - 139.0 / 630.0).*btw23);
            a = 4-x;
            x = a.^3;
            out = out+(((x.^2).*a*(1/5040)).*btw34);
        case 8
            a = x .* x;
            out = ((a .* (a .* (a .* (a * (1.0 / 576.0) - 1.0 / 64.0)...
			+ 43.0 / 512.0) - 289.0 / 1024.0) + 259723.0 / 573440.0)).*btw0hf;
            out = out+((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (1.0 / 80.0 - x * (1.0 / 720.0)) - 3.0 / 80.0)...
			+ 7.0 / 320.0) + 9.0 / 128.0) + 7.0 / 1280.0) - 363.0 / 1280.0)...
			+ 1.0 / 5120.0) + 64929.0 / 143360.0).*btw1hf);
            out = out+((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x * (1.0 / 1440.0) - 1.0 / 80.0) + 3.0 / 32.0)...
			- 119.0 / 320.0) + 207.0 / 256.0) - 1127.0 / 1280.0) + 195.0 / 512.0)...
			- 1457.0 / 5120.0) + 145167.0 / 286720.0).*btw2hf);
            out = out+((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (3.0 / 560.0 - x * (1.0 / 5040.0)) - 5.0 / 80.0)...
			+ 131.0 / 320.0) - 209.0 / 128.0) + 5123.0 / 1280.0) - 1465.0 / 256.0)...
			+ 146051.0 / 35840.0) - 122729.0 / 143360.0).*btw3hf);
            y = (x - 4.5).^4;
            out = out + ((y .* y .* (1.0 / 40320.0)).*btw4hf);
        case 9
            a= x.* x;
            out = (a .* (a .* (a .* (a .* (1.0 / 576.0 - x * (1.0 / 2880.0))...
			- 5.0 / 432.0) + 19.0 / 288.0) - 35.0 / 144.0) + 15619.0 / 36288.0).*btw01;
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (x * (1.0 / 4320.0) - 1.0 / 288.0)...
			+ 1.0 / 48.0) - 13.0 / 216.0) + 7.0 / 96.0) - 1.0 / 144.0) + 7.0 / 144.0)...
			- 19.0 / 72.0) + 1.0 / 192.0) + 7799.0 / 18144.0).*btw12);
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (5.0 / 2016.0 - x * (1.0 / 10080.0))...
			- 3.0 / 112.0) + 35.0 / 216.0) - 19.0 / 32.0) + 191.0 / 144.0) - 83.0 / 48.0)...
			+ 635.0 / 504.0) - 339.0 / 448.0) + 1553.0 / 2592.0).*btw23);
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (x * (1.0 / 40320.0) - 1.0 / 1152.0)...
			+ 3.0 / 224.0) - 103.0 / 864.0) + 43.0 / 64.0) - 1423.0 / 576.0)...
			+ 563.0 / 96.0) - 2449.0 / 288.0) + 5883.0 / 896.0) - 133663.0 / 72576.0).*btw34);
            a = 5 - x;
            out = out + (((x.^2).*a*(1/362880)).*btw45);
        case 10
            a= x.* x; 
            out = (a .* (a .* (a .* (a .* (11.0 / 11520.0...
			- a * (1.0 / 14400.0)) - 583.0 / 69120.0) + 14597.0 / 276480.0)...
			- 156409.0 / 737280.0) + 381773117.0 / 928972800.0).*btw0hf;
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (x .* (x * (1.0 / 17280.0)...
			- 11.0 / 17280.0) + 11.0 / 4608.0) - 11.0 / 5760.0) - 187.0 / 27648.0)...
			- 77.0 / 76800.0) + 5885.0 / 110592.0) - 11.0 / 92160.0)...
			- 62557.0 / 294912.0) - 11.0 / 4423680.0) + 152709293.0 / 371589120.0).*btw1hf);
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (x .* (11.0 / 15120.0 - x...
			* (1.0 / 30240.0)) - 55.0 / 8064.0) + 11.0 / 315.0) - 715.0 / 6912.0)...
			+ 1661.0 / 9600.0) - 4543.0 / 27648.0) + 7513.0 / 40320.0)...
			- 163603.0 / 516096.0) + 135311.0 / 3870720.0) + 37690169.0 / 92897280.0).*btw2hf);
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (x .* (x * (1.0 / 80640.0)...
			- 11.0 / 26880.0) + 55.0 / 9216.0) - 451.0 / 8960.0) + 14905.0 / 55296.0)...
			- 48433.0 / 51200.0) + 479281.0 / 221184.0) - 1352153.0 / 430080.0)...
			+ 1654543.0 / 589824.0) - 11695211.0 / 6881280.0) + 623786977.0 / 743178240.0).*btw3hf);
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (x .* (11.0 / 90720.0 - x...
			.* (1.0 / 362880.0)) - 11.0 / 4608.0) + 209.0 / 7560.0) - 5753.0 / 27648.0)...
			+ 61061.0 / 57600.0) - 407429.0 / 110592.0) + 2070343.0 / 241920.0)...
			- 3702215.0 / 294912.0) + 237959711.0 / 23224320.0) - 1241720381.0 / 371589120.0).*btw4hf);
            b = (x-5.5);
            a = ((b.^2).*b).*(b.^2);
            out = out + (a .* a * (1.0 / 3628800.0)).*btw5hf;
        case 11
             a= x.* x; 
             out = (a .* (a .* (a .* (a .* (a .* (x .* (1.0 / 86400.0) - 1.0 / 14400.0)...
			+ 1.0 / 1440.0) - 23.0 / 3600.0) + 31.0 / 720.0) - 809.0 / 4320.0)...
			+ 655177.0 / 1663200.0).*btw01;
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (x .* (x .* (1.0 / 6720.0...
			- x .* (1.0 / 120960.0)) - 11.0 / 10080.0) + 1.0 / 252.0)...
			- 11.0 / 1680.0) + 1.0 / 360.0) - 11.0 / 1200.0) + 25.0 / 504.0)...
			- 11.0 / 3360.0) - 563.0 / 3024.0) - 11.0 / 50400.0) + 65521.0 / 166320.0).*btw12);
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (x .* (x .* (x...
			* (1.0 / 241920.0) - 1.0 / 8064.0) + 11.0 / 6720.0) - 25.0 / 2016.0)...
			+ 33.0 / 560.0) - 13.0 / 72.0) + 143.0 / 400.0) - 239.0 / 504.0)...
			+ 583.0 / 1120.0) - 1619.0 / 3024.0) + 781.0 / 5600.0) + 61297.0 / 166320.0).*btw23);
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (x .* (x .* (1.0 / 17280.0...
			- x * (1.0 / 725760.0)) - 11.0 / 10080.0) + 7.0 / 576.0)...
			- 99.0 / 1120.0) + 631.0 / 1440.0) - 1199.0 / 800.0) + 1009.0 / 288.0)...
			- 12199.0 / 2240.0) + 9385.0 / 1728.0) - 38533.0 / 11200.0)...
			+ 894727.0 / 665280.0).*btw34);
            out = out + ((x .* (x .* (x .* (x .* (x .* (x...
			.* (x .* (x .* (x .* (x .* (x...
			* (1.0 / 3628800.0) - 1.0 / 67200.0) + 11.0 / 30240.0)...
			- 107.0 / 20160.0) + 517.0 / 10080.0) - 2477.0 / 7200.0)...
			+ 11737.0 / 7200.0) - 54797.0 / 10080.0) + 250657.0 / 20160.0)...
			- 1113317.0 / 60480.0) + 4726777.0 / 302400.0) - 18595037.0 / 3326400.0).*btw45);
            a = 6 - x;
            b = a.*a;
            c = (b.*a).*b;
            out = out + ((c .* c .* a * (1.0 / 39916800.0)).*btw56);
        otherwise
            disp('Inputted Spline degree not recognized.');
    end
   